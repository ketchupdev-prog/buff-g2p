# Buffr G2P Backend – copy to .env and fill in values.
# Same Neon DB as Ketchup Portal. Aligned with ketchup-smartpay/buffr/.env.local.

# =============================================================================
# APPLICATION
# =============================================================================
APP_NAME=Buffr G2P Voucher Platform
APP_VERSION=2.0.18
APP_ENV=production
NODE_ENV=development

# =============================================================================
# DATABASE (Neon PostgreSQL) – required
# =============================================================================
DATABASE_URL=postgresql://USER:PASSWORD@HOST/neondb?sslmode=require
NEON_CONNECTION_STRING=postgresql://USER:PASSWORD@HOST/neondb?sslmode=require

# =============================================================================
# BUFFR APP
# =============================================================================
BUFFR_API_URL=https://pay.buffr.ai
BUFFR_API_KEY=your-buffr-api-key

# =============================================================================
# AUTH – Neon / Stack Auth
# =============================================================================
NEON_AUTH_BASE_URL=https://YOUR_NEON_HOST/neondb/auth
NEXT_PUBLIC_NEON_AUTH_URL=https://YOUR_NEON_HOST/neondb/auth
NEON_AUTH_COOKIE_SECRET=your-cookie-secret-min-32-chars
NEXT_PUBLIC_STACK_PROJECT_ID=your-stack-project-id
NEXT_PUBLIC_STACK_PUBLISHABLE_CLIENT_KEY=your-pck-key
STACK_SECRET_SERVER_KEY=your-ssk-key
NEON_AUTH_JWKS_URL=https://api.stack-auth.com/api/v1/projects/YOUR_PROJECT_ID/.well-known/jwks.json

# =============================================================================
# JWT
# =============================================================================
JWT_SECRET=your-jwt-secret-min-32-chars
JWT_REFRESH_SECRET=your-refresh-secret
JWT_PAYMENT_SECRET=your-payment-secret
JWT_ACCESS_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_PAYMENT_EXPIRY=30m

# =============================================================================
# BUFFR COMPANY (Bank Windhoek)
# =============================================================================
BUFFR_COMPANY_NAME=BUFFR FINANCIAL SERVICES CC
BUFFR_COMPANY_ID=CC/2024/09322
BUFFR_BANK_NAME=Bank Windhoek
BUFFR_BRANCH_NAME=Ongwediva
BUFFR_ACCOUNT_NUMBER=8050377860
BUFFR_BRANCH_CODE=485-673
BUFFR_SWIFT_CODE=BWLINANX

# =============================================================================
# FINERACT
# =============================================================================
FINERACT_ENABLED=true
FINERACT_BASE_URL=http://fineract.example.com
FINERACT_USERNAME=
FINERACT_PASSWORD=
FINERACT_TENANT_ID=7070

# =============================================================================
# EMAIL / TWILIO / AI / SECURITY / CORS / KETCHUP / USSD / REDIS
# =============================================================================
EMAIL_PROVIDER=sendgrid
SENDGRID_API_KEY=
RESEND_API_KEY=
FROM_EMAIL=noreply@mail.buffr.ai
NEXT_PUBLIC_APP_URL=https://pay.buffr.ai
TWILIO_ACCOUNT_SID=
TWILIO_AUTH_TOKEN=
TWILIO_PHONE_NUMBER=
DEEPSEEK_API_KEY=
DEEPSEEK_BASE_URL=https://api.deepseek.com/v1
GROQ_API_KEY=
ENCRYPTION_KEY=your-32-byte-hex-key
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001,https://pay.buffr.ai
PORT=3001
BASE_URL=http://localhost:3001
KETCHUP_SMARTPAY_API_URL=https://api.ketchup.cc
KETCHUP_SMARTPAY_API_KEY=
KETCHUP_SMARTPAY_WEBHOOK_SECRET=
USSD_GATEWAY_URL=
USSD_API_KEY=
UPSTASH_REDIS_REST_URL=
UPSTASH_REDIS_REST_TOKEN=

# =============================================================================
# FEATURE FLAGS / COMPLIANCE / RATE LIMITING / CRON / VOUCHER / FEEDBACK / SAVINGS
# =============================================================================
ENABLE_AI_FEATURES=true
ENABLE_FINERACT_SYNC=true
COMPLIANCE_ENABLED=true
RATE_LIMIT_ENABLED=true
CRON_SECRET=your-cron-secret-hex
VOUCHER_EXPIRY_WARNINGS_ENABLED=true
FEEDBACK_COLLECTION_ENABLED=true
SAVINGS_WALLETS_ENABLED=true
SAVINGS_DEFAULT_INTEREST_RATE=2.5
SAVINGS_MIN_ELIGIBLE_BALANCE=500
LOG_LEVEL=INFO
